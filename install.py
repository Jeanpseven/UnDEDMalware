import os

def install_packages():
    print("\nInstalling required packages...")
    
    if os.system("command -v hostapd > /dev/null 2>&1") == 0 and os.system("command -v dnsmasq > /dev/null 2>&1") == 0:
        print("\nPackages already installed.")
        return True
    
    else:
        print("\nInstalling packages: hostapd dnsmasq")
        
        package_managers = [
            ("apt", "apt install hostapd dnsmasq -y"),
            ("apt-get", "apt-get install hostapd dnsmasq -y"),
            ("pacman", "sudo pacman -S hostapd dnsmasq --noconfirm"),
            ("dnf", "sudo dnf -y install hostapd dnsmasq")
        ]
        
        for manager, command in package_managers:
            if os.system(f"command -v {manager} > /dev/null 2>&1") == 0:
                if os.system(command) == 0:
                    return True
                else:
                    print(f"\nFailed to install packages using {manager}.")
                    return False
        
        print("\nUnsupported package manager, Install packages manually.")
        return False

if __name__ == "__main__":
    install_packages()
